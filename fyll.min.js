/**
 * Fyll.js
 * Distributed under MIT license.
 * Source: https://github.com/nicklassandell/Fyll.js
*/
(function(){"use strict";window.fyll={config:{actionDelay:500,keyPressInterval:100,humanisePressInterval:true,focusClass:"fyll-focus",complete:false},go:function(e,t){if(this.isRunning){console.warn("Fyll: Only one instance of Fyll can be run at once.");return false}if(typeof t==="object"){this.config=this.helpers.mergeObjects(this.config,t)}else if(typeof t==="function"){this.config.complete=t}this.isRunning=true;this.queue=this.parseQuery(e);this.readQueue()},readQueue:function(){var e=window.fyll;if(!e.queue.length){if(typeof e.config.complete==="function"){e.config.complete()}e.isRunning=false;return false}var t=e.queue.pop(),n=e.parseInstruction(t),r=e.actions[n.action];if(typeof r==="object"){r.execute(n.value,function(){if(e.queue.length>0){var t=0;if(r.pauseAfter){t=e.config.actionDelay}setTimeout(e.readQueue,t)}else{e.readQueue()}})}else{console.error("Fyll: The specified action `"+n.action+"` does not exist.");e.readQueue()}},parseQuery:function(e){var t=e.split("then");for(var n=0;n<t.length;++n){t[n]=this.helpers.betterTrim(t[n])}return t.reverse()},parseInstruction:function(e){var t=e.split(" "),n={};n.action=t[0];n.value=t[1];return n},getPressInterval:function(){var e=this.config.humanisePressInterval?this.config.keyPressInterval+(Math.random()*1.5-.5)*100:this.config.keyPressInterval;return e},helpers:{betterTrim:function(e){return e.replace(/\s+(?=\s)/g,"").trim()},mergeObjects:function(e,t){for(var n in t){if(t.hasOwnProperty(n)){e[n]=t[n]}}return e}},actionHelpers:{setFocus:function(e,t){var n=window.fyll;e.className+=" "+n.config.focusClass;if(typeof t==="function"){setTimeout(t,n.getPressInterval())}},removeFocus:function(e,t){var n=window.fyll;setTimeout(function(){e.className=e.className.replace(n.config.focusClass,"");if(typeof t==="function"){t()}},n.getPressInterval())}},actions:{fill:{pauseAfter:true,execute:function(e,t){var n=window.fyll,r=document.getElementById(e);if(!r){console.warn("Fyll: The specified target `"+e+"` does was not found.");t();return false}r.value="";var i=r.getAttribute("data-fyll");if(i){var s=i.split("").reverse();n.actionHelpers.setFocus(r,function(){var e=function(){r.value+=s.pop();if(s.length<1){n.actionHelpers.removeFocus(r);t()}else{setTimeout(e,n.getPressInterval())}};e()})}else{console.warn("Fyll: No fill value was attached to element #"+e);t()}}},click:{pauseAfter:true,execute:function(e,t){var n=window.fyll,r=document.getElementById(e);if(!r){console.warn("Fyll: The specified target `"+e+"` does was not found.");t();return false}n.actionHelpers.setFocus(r,function(){n.actionHelpers.removeFocus(r,function(){t()})})}},toggle:{pauseAfter:true,execute:function(e,t){var n=window.fyll,r=document.getElementById(e);if(!r){console.warn("Fyll: The specified target `"+e+"` does was not found.");t();return false}if(typeof r.checked==="boolean"){r.checked=!r.checked}t()}},pause:{pauseAfter:false,execute:function(e,t){setTimeout(t,e)}}}}})()